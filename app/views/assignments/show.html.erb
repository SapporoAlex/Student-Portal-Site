<div class="section">
    <h1><%= @assignment.title %></h1>
    <p><%= @assignment.description %></p>
    <p>Due: <%= @assignment.due_date %></p>

    <% if @assignment.mpeg_file.attached? %>
    <p>Video File: <%= link_to "Download", rails_blob_path(@assignment.mpeg_file, disposition: "attachment") %></p>
    <% else %>
    <p>No video file uploaded yet.</p>
    <% end %>

    <%= form_with(model: @assignment, url: upload_assignment_path(@assignment), local: true, multipart: true) do |form| %>
    <div>
        <%= form.label :mpeg_file, "Upload MPEG File" %>
        <%= form.file_field :mpeg_file %>
    </div>
    <div>
        <%= form.submit "Upload" %>
    </div>
    <% end %>

    <% if current_user.admin? && @uploaded_file %>
    <p>Uploaded file:</p>
    <%= link_to 'Download File', url_for(@assignment.mpeg_file) %>
    <% end %>

    <%= link_to "Back to Assignments", assignments_path %>
    <% if current_user.admin? %>
        <%= button_to 'Delete Assignment', assignment_path(@assignment), method: :delete, data: { confirm: "Are you sure you want to delete this assignment?" }, class: 'delete-button' %>
    <% end %>
</div>
