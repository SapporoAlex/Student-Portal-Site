<div class="section">
    <h1><%= @assignment.title %></h1>
    <p><%= @assignment.description %></p>
    <p>Due: <%= @assignment.due_date %></p>

<% if @assignment.uploads.any? %>
  <% if current_user.admin? %>
    <% # Admin can view the uploaded file (first one, assuming one file per user) %>
    <p>Uploaded File: <%= link_to "Download", rails_blob_path(@assignment.uploads.first.file, disposition: "attachment") %></p>
  <% else %>
    <% # Non-admin users can see their own uploaded file %>
    <% upload = @assignment.uploads.find_by(user: current_user) %>
    <% if upload %>
      <p>Your uploaded file: <%= link_to "Download", rails_blob_path(upload.file, disposition: "attachment") %></p>
    <% else %>
      <p>You haven't uploaded a file yet.</p>
    <% end %>
  <% end %>
<% else %>
  <p>No file uploaded yet.</p>
<% end %>

    <%= link_to "Back to Assignments", assignments_path %>
    <% if current_user.admin? %>
        <%= button_to 'Delete Assignment', assignment_path(@assignment), method: :delete, data: { confirm: "Are you sure you want to delete this assignment?" }, class: 'delete-button' %>
    <% end %>
</div>
